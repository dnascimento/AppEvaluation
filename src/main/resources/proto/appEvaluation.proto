package inesc;

option java_package = "inesc.shared";
option java_outer_classname = "AppEvaluationProtos";

message Parameter{
	required string key = 1;
	required string value = 2;
}
	
message AppRequest {
	enum ReqType{
		GET = 0;
		POST = 1;
		PUT = 2;
		DELETE = 3;
	}
		
	required ReqType type = 1;
	required string url = 2;
	required int32 nExec = 3;
	repeated Parameter parameters = 4;

}

message AppReqList {
  repeated AppRequest requests = 1;
  required int32 nClients = 2;
}

message AppResponse{
	optional string text = 1;
	enum ResStatus{
		ERROR = 0;
		OK = 1;
	}
	optional ResStatus status = 2;
}

message ThreadReportMsg{
	optional int32 nTransactions = 1;
	optional int32 successTransactions = 2;
	optional int32 averageResponseTime = 3;
	optional double transactionRate = 4;
	optional int32 longest = 5;
	optional int32 shortest = 6;
	optional int32 totalTransferingTime = 7;
	optional int32 failTransactions = 8;
	optional string report = 9;
	optional int64 totalExecutionTime = 10;
	optional int64 dataReceived = 11;
	optional int32 clientID = 12;
}


message ReportAgregatedMsg{
	repeated ThreadReportMsg reports = 1;
}


message SlaveRegistryMsg{
	required string url = 1;
	required int32 port = 2;
}